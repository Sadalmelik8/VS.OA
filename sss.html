<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
        //查询结果
        $(document).ready(function () {
            var url = window.location.search; //获取url中"?"符后的字串
            var oltid = url.substr(url.indexOf("=") + 1);
            console.log(url);
            $.ajax({
                type: "get", //请求的方式，也有get请求
                url: "http://localhost:63342/Management/test/open.json", //请求地址，后台提供的,这里我在本地自己建立了个json的文件做例子
                data: {},//data是传给后台的字段，后台需要哪些就传入哪些
                dataType: "json", //json格式，后台返回的数据为json格式的。
                //beforeSend: LoadFunction, //加载执行方法
                //error: erryFunction,  //错误执行方法
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    alert(XMLHttpRequest.status);
                    alert(XMLHttpRequest.readyState);
                    alert(textStatus);
                    alert(errorThrown);
                },
                success: function (result) {
                    var dataObj = result, //返回的result为json格式的数据
                        pack = "",
                        con = "";
                    $.each(dataObj, function (index, item) {
                        if (item.age == oltid) {
                            con += item.id;
                            con += item.name;
                            con += item.age;
                        }
                    });
                    console.log(con);    //可以在控制台打印一下看看，这是拼起来的标签和数据
                    $("#pack").val(con);
                    //$("#sss").html(con); //把内容入到这个div中即完成

                }
            })
        })
    </script>
</head>
<body>
    <div id="sss">
        <ul id="con"></ul>
        <input type="text" id="pack" />
    </div>
</body>
</html>
